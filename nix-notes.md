a kind of hacky way to see if you are in a nix shell is to echo the $PATH and see if there are any nix store paths within it.

